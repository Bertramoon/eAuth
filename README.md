# 构建与初始化

## 安装依赖包

```shell
pip install -r requirements.txt
```

## 创建数据库和数据表

```shell
flask initdb --drop
```

# 设计与实现

## 功能设计

## 数据设计

## 质量设计

### 性能

#### 缓存设计

核心鉴权接口使用内存缓存，其他地方不用缓存

### 安全性

#### 机密性

- 用户密码保护
- 身份认证算法

#### 完整性

##### 审计日志

eAuth的审计日志主要有操作日志和登录日志。

1、操作日志记录用户的操作（本系统主要是API配置、角色配置、为用户授权），包括：

- 操作人
- 客户端IP
- 操作资源对象id
- 操作类型（请求方法和接口名）
- 操作结果
- 响应码
- 请求内容
- 响应内容
- 操作时间

PS:

1)操作资源对象id有且仅有一个。一方面是基于设计，RESTFul风格是基于资源操作的，在本系统，每个接口仅操作某一类对象，同时，规定了只会有一个路径参数。另一方面，接口便于搜索查询

2)操作类型中记录的接口名称是按照flask中的格式的，例如`/api/config/role/<int:role_id>`

3)请求内容和响应内容参考接口AuditLogInterface，需要在schema中实现该接口

2、登录日志记录用户的登录登出等操作，包括：

- 操作人
- 客户端IP
- 操作（例如登录）
- 操作结果
- 操作时间


#### 可用性

- 接口限流
- 数据分页



